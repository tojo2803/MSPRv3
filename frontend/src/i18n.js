import { createI18n } from 'vue-i18n'

const savedCountry = localStorage.getItem("selectedCountry");
let locale = "fr";
if (savedCountry === "us") locale = "en";
else if (savedCountry === "fr") locale = "fr";
else if (savedCountry && savedCountry.startsWith("ch_")) {
  locale = savedCountry.split("_")[1]; // "fr", "en", "de"
}


const messages = {
  fr: {
    welcome: "Bienvenue sur l'application MSPR",
    home_description: "Visualisez les données de manière interactive et obtenez des prédictions.",
    footer_title: "Visualisation VIH",
    footer_rights: "Tous droits réservés",
    nav_home: "Accueil",
    nav_charts: "Graphiques",
    nav_prediction: "Prédiction",
    prediction_graphs_title: "Graphiques de Prédiction",
    prediction_graphs_label: "Prédictions",
    testprediction_title: "Choix des données",
    testprediction_choose_region: "Choisissez un pays ou une région :",
    testprediction_choose_country: "Choisissez un pays :",
    testprediction_choose_table: "Choisissez une table :",
    testprediction_choose_column: "Choisissez une colonne cible :",
    testprediction_submit: "Soumettre",
    testprediction_alert: "Veuillez sélectionner une région ou un pays avant de soumettre !",
    testprediction_title: "Choix des données",
    testprediction_choose_region: "Choisissez un pays ou une région :",
    testprediction_choose_country: "Choisissez un pays :",
    testprediction_choose_table: "Choisissez une table :",
    testprediction_choose_column: "Choisissez une colonne cible :",
    testprediction_submit: "Soumettre",
    testprediction_alert: "Veuillez sélectionner une région ou un pays avant de soumettre !",
    testprediction_log_tables: "Réponse brute /tables/ :",
    testprediction_log_countries: "Données pays récupérées :",
    testprediction_log_columns: "Colonnes disponibles :",
    testprediction_log_payload: "Payload envoyé :",
    testprediction_log_dataframe: "Dataframe généré :",
    testprediction_log_train_payload: "Payload envoyé à /train_model/ :",
    testprediction_log_success: "Modèle entraîné avec succès !",
    testprediction_error_load: "Erreur lors du chargement des données :",
    testprediction_error_columns: "Erreur lors de la récupération des colonnes :",
    testprediction_error_submit: "Erreur lors de la soumission :",
    testprediction_error_select: "Erreur : Vous devez sélectionner soit une région, soit un pays.",
    prediction_graphs_no_result: "Aucun résultat à afficher.",
    nav_data: "Données",
  },
  en: {
    welcome: "Welcome to the MSPR application",
    home_description: "View data interactively and get predictions.",
    footer_title: "HIV Visualization",
    footer_rights: "All rights reserved",
    nav_home: "Home",
    nav_charts: "Charts",
    nav_prediction: "Prediction",
    prediction_graphs_title: "Prediction Graphs",
    prediction_graphs_label: "Predictions",
    testprediction_title: "Data selection",
    testprediction_choose_region: "Choose a country or region:",
    testprediction_choose_country: "Choose a country:",
    testprediction_choose_table: "Choose a table:",
    testprediction_choose_column: "Choose a target column:",
    testprediction_submit: "Submit",
    testprediction_alert: "Please select a region or a country before submitting!",
    testprediction_title: "Data selection",
    testprediction_choose_region: "Choose a country or region:",
    testprediction_choose_country: "Choose a country:",
    testprediction_choose_table: "Choose a table:",
    testprediction_choose_column: "Choose a target column:",
    testprediction_submit: "Submit",
    testprediction_alert: "Please select a region or a country before submitting!",
    testprediction_log_tables: "Raw response /tables/:",
    testprediction_log_countries: "Countries data retrieved:",
    testprediction_log_columns: "Available columns:",
    testprediction_log_payload: "Payload sent:",
    testprediction_log_dataframe: "Generated dataframe:",
    testprediction_log_train_payload: "Payload sent to /train_model/:",
    testprediction_log_success: "Model trained successfully!",
    testprediction_error_load: "Error loading data:",
    testprediction_error_columns: "Error retrieving columns:",
    testprediction_error_submit: "Error during submission:",
    testprediction_error_select: "Error: You must select either a region or a country.",
    prediction_graphs_no_result: "No result to display.",
    nav_data: "Data",
  },
  de: {
    welcome: "Willkommen bei der MSPR-Anwendung",
    home_description: "Visualisieren Sie Daten interaktiv und erhalten Sie Vorhersagen.",
    footer_title: "HIV-Visualisierung",
    footer_rights: "Alle Rechte vorbehalten",
    nav_home: "Startseite",
    nav_charts: "Diagramme",
    nav_prediction: "Vorhersage",
    prediction_graphs_title: "Vorhersage-Diagramme",
    prediction_graphs_label: "Vorhersagen",
    testprediction_title: "Datenauswahl",
    testprediction_choose_region: "Wählen Sie ein Land oder eine Region:",
    testprediction_choose_country: "Wählen Sie ein Land:",
    testprediction_choose_table: "Wählen Sie eine Tabelle:",
    testprediction_choose_column: "Wählen Sie eine Zielspalte:",
    testprediction_submit: "Absenden",
    testprediction_alert: "Bitte wählen Sie vor dem Absenden eine Region oder ein Land aus!",
    testprediction_title: "Datenauswahl",
    testprediction_choose_region: "Wählen Sie ein Land oder eine Region:",
    testprediction_choose_country: "Wählen Sie ein Land:",
    testprediction_choose_table: "Wählen Sie eine Tabelle:",
    testprediction_choose_column: "Wählen Sie eine Zielspalte:",
    testprediction_submit: "Absenden",
    testprediction_alert: "Bitte wählen Sie vor dem Absenden eine Region oder ein Land aus!",
    testprediction_log_tables: "Rohantwort /tables/:",
    testprediction_log_countries: "Länderdaten abgerufen:",
    testprediction_log_columns: "Verfügbare Spalten:",
    testprediction_log_payload: "Gesendetes Payload:",
    testprediction_log_dataframe: "Erzeugtes Dataframe:",
    testprediction_log_train_payload: "Gesendetes Payload an /train_model/:",
    testprediction_log_success: "Modell erfolgreich trainiert!",
    testprediction_error_load: "Fehler beim Laden der Daten:",
    testprediction_error_columns: "Fehler beim Abrufen der Spalten:",
    testprediction_error_submit: "Fehler beim Absenden:",
    testprediction_error_select: "Fehler: Sie müssen entweder eine Region oder ein Land auswählen.",
    prediction_graphs_no_result: "Kein Ergebnis anzuzeigen.",
    nav_data: "Daten",
  }
}

const i18n = createI18n({
  locale: locale, // langue par défaut selon le choix utilisateur
  fallbackLocale: 'fr',
  messages,
});
export default i18n